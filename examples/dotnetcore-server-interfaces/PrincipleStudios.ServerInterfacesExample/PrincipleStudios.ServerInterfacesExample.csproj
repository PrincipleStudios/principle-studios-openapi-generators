<Project Sdk="Microsoft.NET.Sdk.Web">

  <PropertyGroup>
    <TargetFramework>net5.0</TargetFramework>
    <LangVersion>8.0</LangVersion>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.AspNetCore.Mvc.NewtonsoftJson" Version="5.0.3" />
    <PackageReference Include="PrincipleStudios.OpenApiCodegen.Server.Mvc" Version="0.2.0-alpha" />
  </ItemGroup>

  <ItemGroup>
    <OpenApiSchemaMvcServer Include="..\..\..\schemas\petstore.yaml" Link="Controllers\petstore.yaml" />
  </ItemGroup>
  
  <Target Name="_InjectAdditionalFiles" BeforeTargets="GenerateMSBuildEditorConfigFileShouldRun">
    <Message Text="@(OpenApiSchemaMvcServer->'%(rootdir)%(directory)%(filename)%(extension)')" Importance="high" />
    <Message Text="@(OpenApiSchemaMvcServer->'%(Identity) @ %(Link)')" Importance="high" />
  </Target>
</Project>
