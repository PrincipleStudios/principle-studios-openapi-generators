<Project Sdk="Microsoft.NET.Sdk">

	<PropertyGroup>
		<TargetFramework>net7.0</TargetFramework>
		<ApplicationIcon />
		<OutputType>Exe</OutputType>
		<StartupObject />
	</PropertyGroup>

	<ItemGroup>
		<PackageReference Include="Microsoft.Extensions.DependencyInjection.Abstractions" Version="3.1.20" />
	</ItemGroup>
	<ItemGroup Condition=" '$(OpenApiJsonExtensionsExternalVersion)' != '' ">
		<PackageReference Include="PrincipleStudios.OpenApiCodegen.Client" Version="$(OpenApiCSharpClientExternalVersion)" PrivateAssets="All" />
		<PackageReference Include="PrincipleStudios.OpenApiCodegen.Json.Extensions" Version="$(OpenApiJsonExtensionsExternalVersion)" />
	</ItemGroup>
	<ItemGroup Condition=" '$(OpenApiCSharpClientExternalVersion)' == '' ">
		<ProjectReference Include="$(SolutionRoot)lib\PrincipleStudios.OpenApiCodegen.Json.Extensions\PrincipleStudios.OpenApiCodegen.Json.Extensions.csproj" />

		<ProjectReference
			Include="$(SolutionRoot)generators\dotnetstandard-client\PrincipleStudios.OpenApiCodegen.Client.Analyzers\PrincipleStudios.OpenApiCodegen.Client.Roslyn3.11.csproj"
			OutputItemType="Analyzer"
			ReferenceOutputAssembly="false" />
		<!-- Not an analyzer, but the project-reference analyzer needs all child dependencies, too -->
		<ProjectReference
			Include="$(SolutionRoot)lib\PrincipleStudios.OpenApiCodegen\PrincipleStudios.OpenApiCodegen.csproj"
			Condition=" '$(OpenApiCSharpClientExternalVersion)' == '' "
			OutputItemType="Analyzer"
			ReferenceOutputAssembly="false" />
	</ItemGroup>

	<!-- When using project references, props/targets that are in the NuGet package don't get automatically picked up -->
	<Import Condition=" '$(OpenApiCSharpClientExternalVersion)' == '' "
		Project="$(SolutionRoot)generators\dotnetstandard-client\PrincipleStudios.OpenApiCodegen.Client\PrincipleStudios.OpenApiCodegen.Client.props" />

	<ItemGroup>
		<OpenApiSchemaClient Include="$(SolutionRoot)schemas\petstore.yaml" Link="Clients\Petstore\petstore.yaml" />
		<OpenApiSchemaClient Include="$(SolutionRoot)schemas\petstore3.json" Link="Clients\Petstore3\petstore3.json" />
	</ItemGroup>


</Project>
